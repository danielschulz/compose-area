(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{3:function(e,t,o){"use strict";o.r(t);o(6);var n=o(9),s=o(4);window.Benchmark=n,window.wasm=s;const r=new n.Suite;window.setupTest=function(){const e=()=>Math.random().toString(36).substring(7),t="test-"+e()+e(),o=document.getElementById("wrapper"),n=document.createElement("div");return n.id=t,o.appendChild(n),{divId:t,testDiv:n,composeArea:window.wasm.bind_to(t)}},window.teardownTest=function(e){document.getElementById("wrapper").removeChild(document.getElementById(e))},window.moveCaret=function(e,t){if(t<0)for(let o=0;o<-t;o++)e.process_key("ArrowLeft");else for(let o=0;o<t;o++)e.process_key("ArrowRight")},r.add('1. Process keypresses in "hello world"',{setup:()=>{setupTest()},fn:function(e,t,o){for(const e of["h","e","l","l","o","Space","w","o","r","l","d"])ctx.composeArea.process_key(e)},teardown:()=>{teardownTest(ctx.divId)}}),r.add('2. Insert text "hello world"',{setup:()=>{setupTest()},fn:()=>{ctx.composeArea.insert_text("hello world")},teardown:()=>{teardownTest(ctx.divId)}}),r.add("3. Insert image between text",{setup:()=>{const e=setupTest();e.composeArea.insert_text("helloworld"),moveCaret(e.composeArea,-5)},fn:()=>{ctx.composeArea.insert_image("emoji.png","smile","emoji")},teardown:()=>{teardownTest(ctx.divId)},minSamples:25}),r.add("4. Extract text from compose area",{setup:()=>{const e=setupTest();e.composeArea.insert_text("hello world "),e.composeArea.insert_image("emoji.png",":smile:","emoji"),e.composeArea.process_key("Enter"),e.composeArea.insert_text("This is a new line and some emoji: "),e.composeArea.insert_image("emoji1.png",":smile:","emoji"),e.composeArea.insert_image("emoji2.png",":smil:","emoji"),e.composeArea.insert_image("emoji3.png",":smi:","emoji"),e.composeArea.insert_text(" end emoji")},fn:()=>{window.lastText=ctx.composeArea.get_text()},teardown:()=>{teardownTest(ctx.divId)}}),r.add("5. Get caret position",{setup:()=>{const e=setupTest();e.composeArea.insert_text("hello world "),e.composeArea.insert_image("emoji.png",":smile:","emoji"),e.composeArea.process_key("Enter"),e.composeArea.insert_text("This is a new line and some emoji: "),e.composeArea.insert_image("emoji1.png",":smile:","emoji"),e.composeArea.insert_image("emoji2.png",":smil:","emoji"),e.composeArea.insert_image("emoji3.png",":smi:","emoji"),e.composeArea.insert_text(" end emoji"),moveCaret(e.composeArea,-3)},fn:()=>{window.lastPos=window.wasm.get_caret_position(ctx.testDiv)},teardown:()=>{teardownTest(ctx.divId)}}),r.on("start",function(){document.getElementById("results").innerHTML+="Starting benchmark...<br><br>"}),r.on("cycle",function(e){const t=e.target,o=t.stats,n=(1e3*o.mean).toFixed(3),s=o.rme.toFixed(2),r=o.sample.length,i=(1e3*Math.min(...o.sample)).toFixed(3),m=(1e3*Math.max(...o.sample)).toFixed(3);document.getElementById("results").innerHTML+=`<strong>${t.name}</strong><br>mean ${n} ms Â±${s}% (${r} samples, min=${i} max=${m})<br>`}),r.on("complete",function(){document.getElementById("results").innerHTML+="<br>Benchmark complete!<br>"}),r.on("error",function(e){console.error("Benchmark error:",e.target.error)}),document.getElementById("start").addEventListener("click",e=>{r.run({async:!0})})}}]);